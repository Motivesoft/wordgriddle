<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <title>Excluded Word List Manager</title>
</head>

<body>
    <a href="/index.html">Home</a>
    <a href="/admin/bonus.html">Bonus</a>
    <a href="/admin/excluded.html">Excluded</a>
    <h1>Excluded Word List Manager</h1>

    <div class="container">
        <div class="button-stack">
            <div id="wordListContainer">
                <div id="wordList"></div>
            </div>
            <div id="wordCountDisplay"></div>
        </div>
        <div class="button-stack">
            <div class="top-buttons">
                <button onclick="openModal()">Insert</button>
                <button onclick="deleteSelectedWords('excluded')">Delete</button>
            </div>
            <div class="spacer"></div>
            <div class="bottom-buttons">
                <button onclick="document.getElementById('uploadFile').click()">Upload</button>
                <input type="file" id="uploadFile" accept=".txt" onchange="uploadWordList('excluded')"
                    style="display:none">
                <button onclick="downloadWordList('excluded')">Download</button>
            </div>
        </div>
    </div>

    <!--
        Buttons for managing the word list.
        
        Note that the <input> element for Upload is set to be hidden so that we can use a button
        in the style of our other buttons for the desired behaviour
    -->

    <div id="insertWordsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Enter new words, one per line</h2>
            <textarea id="multilineInput" rows="5" cols="50"></textarea>
            <div style="padding-top: 8px;">
                <button onclick="closeModal()">Cancel</button>
                <button onclick="submitText()">Insert</button>
            </div>
        </div>
    </div>

    <script src="operations.js"></script>
    <script>
        function openModal() {
            document.getElementById("insertWordsModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("insertWordsModal").style.display = "none";
            document.getElementById("multilineInput").value = "";
        }

        function submitText() {
            var text = document.getElementById("multilineInput").value;
            insertNewWords('excluded', text);
            closeModal();
        }

        // Initial load
        fetchWordList('excluded');
    </script>
</body>

</html>